(()=>{var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t);const s=flarum.core.compat["forum/app"];var i=e.n(s);const n=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/components/DiscussionComposer"];var o=e.n(r);i().initializers.add("justoverclock/check-duplicate-discussions",(function(){(0,n.extend)(o().prototype,"oncreate",(function(){var e=i().forum.attribute("justoverclock-check-duplicate-discussions.similarNumber")||3,t=document.querySelector(".ComposerBody-editor"),s=document.querySelector("li.item-discussionTitle > h3 > input"),n=null;s.addEventListener("keyup",(function(r){var o;clearTimeout(n),n=setTimeout((function(){var n,o,c;n=r.target.value,o=i().translator.trans("justoverclock-check-duplicate-discussions.forum.title"),c=i().translator.trans("justoverclock-check-duplicate-discussions.forum.foundDiscussion"),i().store.find("discussions",{page:{limit:e},"filter[q]":n}).then((function(e){if(""!==s.value&&e.length>0){var n=document.createElement("div");n.setAttribute("class","simdisc-container"),n.setAttribute("id","sim-container"),n.innerHTML='\n                      <div>\n                         <p class="simtitle" >'+o+' </p>\n                         <p class="simtitle-desc">'+c+"</p>\n                      </div>\n            ",e.forEach((function(e){var s=document.createElement("div");s.setAttribute("id","similar-discussions"),s.setAttribute("class","similar-discussions");var r=e.data.attributes.hasBestAnswer;r=!1!==r?'<i class="fas fa-check-circle simsolved"></i> '+i().translator.trans("justoverclock-check-duplicate-discussions.forum.solvedSimilar"):"",s.innerHTML='\n                  <div class="simdisc">\n                     <li>\n                        <i class="fas fa-exclamation sim"></i>\n                        <a class="simlink" href='+i().route.discussion(e)+">"+e.data.attributes.title+'</a>\n                        <span class="bestAnswer-similar" id="best-similar">'+r+"</span>\n                     </li>\n                  </div>",n.appendChild(s),t.insertAdjacentElement("beforebegin",n)}))}}))}),1e3),(o=document.getElementById("sim-container"))&&o.remove()}))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map